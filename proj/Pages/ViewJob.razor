@page "/viewjob/{JobId:int}"
@using Entities
@using DAL
@inject NavigationManager NavigationManager

<HeadContent>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* Custom Styles */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f8f9fa;
            color: #333;
            margin-top: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .card {
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 500;
            margin-bottom: 10px;
        }

        .card-text {
            font-size: 1.1rem;
            margin-bottom: 15px;
        }

        .btn-primary {
            display: block;
            margin: 0 auto;
        }
    </style>
</HeadContent>

<h3 class="mt-4 mb-3 text-center">View Job Details</h3>

<div class="container">
    @if (job != null)
    {
        <div class="card mb-4">
            <div class="card-body">
                <h5 class="card-title">Job Title: @job.JobTitle</h5>
                <p class="card-text">Job ID: @job.JobId</p>
                <p class="card-text">Company ID: @job.CompanyID</p>
                <hr>
                <p class="card-text">Description:</p>
                <p class="card-text">@job.Description</p>
                <!-- Additional job details here -->
                <!-- Apply Now Button -->
                <button class="btn btn-primary" @onclick="ApplyNow">Apply Now</button>
            </div>
        </div>
    }
    else
    {
        <p>No job details found.</p>
    }
</div>

@code {
    EntJobs job;

    [Parameter]
    public int JobId { get; set; }

    protected override void OnInitialized()
    {
        // Fetch job details based on the JobId from the route parameter
        job = DALJobs.GetJobById(JobId);
    }

    private void ApplyNow()
    {
        // Implement your logic for applying to the job
        // For example, redirect to an application form or process
        // Here's a simple navigation to a hypothetical application page:
        NavigationManager.NavigateTo($"/apply/{JobId}");

    }
}
