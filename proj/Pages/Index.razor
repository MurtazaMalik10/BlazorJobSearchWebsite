@page "/"
@using Microsoft.AspNetCore.Components.Web
@inject NavigationManager NavigationManager
@using Entities
@using DAL

<HeadContent>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&display=swap" rel="stylesheet">
    <!-- Include Font Awesome library -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

    <style>
        /* Global Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .hero {
            background-size: cover; /* Cover the entire area */
            background-position: center center; /* Center the image */
            position: relative;
            height: 500px; /* Adjust the height as needed */
            text-align: center;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: flex-end;
        }

        .hero-content {
            text-align: center;
            padding-bottom: 100px; /* Space between text and button and bottom of the image */
        }

        .hero-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: #fff; /* Text color */
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* Adjust opacity as needed */
        }
        .btn-hero {
            display: inline-block;
            padding: 12px 24px;
            background-color: #dc3545;
            color: #fff;
            text-decoration: none;
            border-radius: 5px;
            transition: background-color 0.3s ease-in-out;
        }

            .btn-hero:hover {
                background-color: #c82333;
            }

        body {
            font-family: 'Arial', sans-serif;
            background-color: #f8f8f8;
            color: #333;
            line-height: 1.6;
            margin-top: 20px;
        }

        /* Custom Classes for Styling */
        /* Styles for sections spanning full width */
        .hero,
        .job-listings {
            width: 100%;
            padding: 60px 0;
            text-align: left;
        }

            .job-listings .row {
                margin-left: 0;
                margin-right: 0;
            }

            .job-listings .col-md-6 {
                padding-left: 0;
                padding-right: 0;
            }

        h1 {
            font-size: 3em; /* Adjust the font size as needed */
            margin-bottom: 20px;
        }

        p {
            font-size: 1.2em; /* Adjust the font size as needed */
        }

        body {
            font-family: 'Open Sans', sans-serif; /* Apply Open Sans to the body */
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', sans-serif; /* Apply Montserrat to headings */
        }
        /* Footer Styling */
        .footer {
            background-color: #343a40;
            color: #fff;
            padding: 40px 0;
            text-align: center;
        }

            .footer p {
                margin-bottom: 10px;
            }

        .thumbnail-column {
            margin-left 0; /* Remove margin */
            padding-left 0; /* Remove padding */
        }

        .thumbnail-img {
            padding-right : 0;
            width: 400px; /* Set a specific width */
            height: 250px; /* Set a specific height */
            object-fit: cover; /* Maintain aspect ratio */
            transition: transform 0.3s ease-in-out; /* Add transition for smooth effect */
        }

            /* Apply hover effect to the image */
            .thumbnail-img:hover {
                transform: scale(1.1); /* Scale the image on hover */
            }

        /* Adjust paragraph styles */
        .col-md-6 p {
            font-size: 1.1em; /* Adjust font size for the paragraph */
            color: #555; /* Change paragraph text color */
            margin-top: 20px; /* Add margin to separate from the image */
            font-family: 'Arial', sans-serif; /* Change font family for the paragraph */
            
            /* Define fixed size for images */
            .fixed-image
        {
            width: 300px; /* Set a specific width */
            height: 200px; /* Set a specific height */
            object-fit: cover; /* Maintain aspect ratio */
        }

        card {
            position: relative;
        }

        .card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            filter: brightness(50%); /* Adjust the brightness to your preference */
            z-index: -1;
        }
        .card-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* Adjust opacity as needed */
        }

        .fixed-image {
            max-width: 100%;
            max-height: 200px; /* Adjust the height as needed */
            width: auto;
            height: auto;
        }

        .custom-btn {
            background-color: #000; /* Background color set to black */
            color: #fff; /* Text color set to white */
            border: 2px solid #000; /* Border color set to black */
            border-radius: 5px; /* Border radius */
            padding: 40px 20px; /* Padding */
            text-decoration: none; /* Remove underline */
            transition: background-color 0.3s, color 0.3s, border-color 0.3s; /* Transition effect */
        }

            .custom-btn:hover {
                background-color: #fff; /* Background color on hover set to white */
                color: #000; /* Text color on hover set to black */
                border-color: #fff; /* Border color on hover set to white */
            }

        .reduced-height {
            max-height: 300px; /* Set your desired maximum height */
        }

        .card-zoom {
            transition: transform 0.3s ease;
        }

            .card-zoom:hover {
                transform: scale(1.05); /* Adjust the scale factor for the desired zoom effect */
            }
    </style>

</HeadContent>

<div class="hero" style="background-image: url('/DMLogo.jpg'); opacity: 2.8;">
    <div class="row text-center align-items-center">
        <div class="container "style="padding-top: 1550px;">
            <h1 style="color: darkorange; font-size: 3em; font-weight: bold;">Welcome to National Job Portal</h1>
            <p style="color: white; font-size: 1.5em;">Find Your Dream Job With Us</p>
        </div>
    </div>
</div>


<div class="row">
    @if (latestJobs != null && latestJobs.Any())
    {
        <div class="job-listings">
            <h2 class="text-center mb-4">Latest Job Listings</h2>
            <div class="row">
                @foreach (var job in latestJobs)
                {
                    <div class="col-md-12 mb-4">
                        <div class="card job-card" @onclick="() => ViewJobDetails(job.JobId)">
                            <div class="row g-0 align-items-center">
                                <div class="col-md-3">
                                    <div class="thumbnail-column">
                                        @if (!string.IsNullOrEmpty(job.Thumbnail))
                                        {
                                            <img class="thumbnail-img" src="@($"data:image/png;base64,{job.Thumbnail}")" alt="Thumbnail" />
                                        }
                                    </div>
                                </div>
                                <div class="col-md-9">
                                    <div class="card-body job-details">
                                        <h5 class="card-title job-title mb-0 text-left">
                                            <i class="fas fa-briefcase"></i> Job Title: @job.JobTitle
                                        </h5>
                                        <p class="card-text text-left">
                                            <i class="fas fa-dollar-sign"></i> Salary: @job.Salary
                                        </p>
                                        <p class="card-text text-left">
                                            <i class="fas fa-user-tie"></i> Type: @job.Type
                                        </p>
                                        <p class="card-text text-left">
                                            <i class="fas fa-info-circle"></i> @job.Description
                                        </p>
                                        <p class="card-text time-uploaded text-left">
                                            <i class="far fa-clock"></i> @CalculateTimeAgo(job.TimeUploaded)
                                        </p>
                                        <!-- Other job details -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    }
    else
    {
        <p class="text-center">No jobs found.</p>
    }
</div>




<div class="text-center" style="margin-top: 0px;">
    <a href="/joblistings" class="btn btn-dark btn-hero custom-btn">View All Job Listings</a>
</div>

<!-- Below the latest job listings -->
<div class="row align-items-center mt-5 mb-5">
    <div class="col-md-6">
        <!-- Picture on the left -->
        <img src="/jobinterview.jpg" alt="Image Description" class="img-fluid" />
    </div>
    <div class="col-md-6 mt-4 mt-md-0">
        <!-- Paragraph on the right -->
        <!-- Heading with an icon -->
        <h2>
            <i class="fas fa-eye mr-2"></i> <!-- Font Awesome icon -->
            Explore Our Vision
        </h2>
        <p class="text-justify">
            The Best Job Portal serves as a transformative bridge connecting individuals from their homes to the interview table. Through a user-friendly interface, it curates personalized job listings, enabling candidates to explore diverse opportunities while providing comprehensive resources for application, resume enhancement, and interview preparation. Beyond mere listings, this platform nurtures career aspirations, guiding individuals towards their professional goals, transforming virtual interactions into tangible prospects, and facilitating the journey from home-based aspirations to the promising threshold of the interview room.
            From the first click on our user-friendly interface to the eventual handshake at the interview table, our platform facilitates this transformational odyssey. It begins with personalized job listings tailored to match skills, passions, and career ambitions. Candidates traverse through this digital landscape, exploring diverse roles and industries, guided by comprehensive job descriptions and company profiles.
            Our commitment extends beyond just job listings. We provide resources and insights, offering guidance through application processes, resume refinement, and interview preparation. Seamlessly transitioning from virtual interactions to the potentiality of face-to-face interviews, our platform acts as a conduit between aspirations brewed at home and the tangible prospect of professional growth at the interview table.
        </p>
    </div>
</div>

<div class="row">
    <div class="col-md-4 mb-4">
        <div class="text-center">
            <img src="/successpng.png" alt="Image 2" class="img-fluid fixed-image mb-3" style="width: 80%; height: 500px;" />
            <h4>Success Stories</h4>
            <p>We pride ourselves on the success stories of individuals who have found their dream jobs through our platform. With a high success rate and satisfied candidates, we've become a reliable gateway to fulfilling careers. Join our community and be part of our success stories!</p>
        </div>
    </div>
    <div class="col-md-4 mb-4">
        <div class="text-center">
            <img src="/kindpng.png" alt="Image 1" class="img-fluid fixed-image mb-3" style="width: 100%; height: 500px;" />
            <h4>Job Opportunities</h4>
            <p>Our platform connects individuals with diverse job opportunities across various industries. With an extensive network of employers, we provide a plethora of job listings, catering to different skill sets and career aspirations. Join us to explore and discover your next career move!</p>
        </div>
    </div>
    <div class="col-md-4 mb-4">
        <div class="text-center">
            <img src="/kindsuccess.png" alt="Image 3" class="img-fluid fixed-image mb-3" style="width: 90%; height: 500px;" />
            <h4>Success Rate</h4>
            <p>Our platform boasts an impressive success rate in matching candidates with suitable job positions. Leveraging advanced algorithms and tailored recommendations, we ensure a high success rate in job placements. Join us and elevate your chances of landing your ideal job!</p>
        </div>
    </div>
</div>



<div class="row mt-5" style="background-image: url('/buildings.jpg'); background-size: cover; background-position: center; padding: 40px 0; height: 500px;">
    <!-- Cards -->
    <div class="d-flex flex-column justify-content-between align-items-center w-100">
        <h1 style="color: white; font-size: 3em; font-weight: bold; text-align: center; margin-top: 20px;">Explore Companies On-Board with Us!</h1>
        <div class="row mb-4">
            <div class="col-md-4 mb-4">
                <NavLink href="/companylist" class="text-decoration-none">
                    <div class="card h-80">
                        <div class="card-body">
                            <h5 class="card-title">Browse Saved Companies</h5>
                            <p class="card-text">View a list of saved companies.</p>
                        </div>
                    </div>
                </NavLink>
            </div>
            <div class="col-md-4 mb-4">
                <NavLink href="/companylist" class="text-decoration-none">
                    <div class="card h-80">
                        <div class="card-body">
                            <h5 class="card-title">Explore Company Profiles</h5>
                            <p class="card-text">Discover details about different companies.</p>
                        </div>
                    </div>
                </NavLink>
            </div>
            <div class="col-md-4 mb-4">
                <NavLink href="/companylist" class="text-decoration-none">
                    <div class="card h-80">
                        <div class="card-body">
                            <h5 class="card-title">Search for Companies</h5>
                            <p class="card-text">Find specific companies by name or criteria.</p>
                        </div>
                    </div>
                </NavLink>
            </div>
            <!-- Add more cards here -->
        </div>
    </div>
</div>


<div class="row mt-5">
    <div class="row align-items-center">
        <div class="col-md-6 order-md-2">
            <h2>Why Choose Us?</h2>
            <p>
                At our job portal, we understand the significance of finding the right career path. Our dedicated team works tirelessly to bridge the gap between job seekers and their dream opportunities. We provide a comprehensive platform offering a diverse array of job listings, guiding you through every step of your job search journey.
                With our user-friendly interface, tailored job recommendations, and extensive resources, we ensure that your job hunt is smooth and efficient. Our commitment lies in assisting you in securing not just a job but a fulfilling career that aligns with your skills, passions, and aspirations.
                Join us in this quest for professional success and let's embark together on the journey towards a rewarding and prosperous career!
            </p>
        </div>
        <div class="col-md-6 order-md-4">
            <img src="/whychooseus.jpg" alt="Right Image" class="img-fluid reduced-height" />
        </div>
    </div>
</div>
<div class="row mt-5">
    <h1 class="text-center mb-4">Success Stories</h1>
    <!-- Cards -->
    <div class="row">
        <!-- Card 1 -->
        <div class="col-md-4 mb-4">
            <div class="card card-zoom" style="background-image: url('/murtaza.jpeg'); background-size: cover; background-position: center; height: 700px;">
                <!-- Card Body -->
                <div class="card-body">
                    <h5 class="card-title text-white">Murtaza's Journey to Success</h5>
                    <p class="card-text text-white">Read about Murtaza's experience finding his dream job through our platform.</p>
                    <div class="text-center">
                        <a href="/success1" class="btn btn-dark btn-outline-danger">Read More</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- Card 2 -->
        <div class="col-md-4 mb-4">
            <div class="card card-zoom" style="background-image: url('/faheem.jpeg'); background-size: cover; background-position: center; height: 700px;">
                <!-- Card Body -->
                <div class="card-body">
                    <h5 class="card-title text-white">Faheem's Career Transformation</h5>
                    <p class="card-text text-white">Discover how Faheem landed his ideal job with our assistance and continuous guidance.</p>
                    <div class="text-center">
                        <a href="/success2" class="btn btn-dark btn-outline-danger">Read More</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- Card 3 -->
        <div class="col-md-4 mb-4">
            <div class="card" style="background-image: url('/dawood.jpeg'); background-size: cover; background-position: center; height: 700px;">
                <!-- Card Body -->
                <div class="card-body card-zoom">
                    <h5 class="card-title text-white">Dawood's Inspiring Journey</h5>
                    <p class="card-text text-white">Explore how Dawood overcame challenges and found success in his career path.</p>
                    <div class="text-center">
                        <a href="/success3" class="btn btn-dark btn-outline-danger">Read More</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- About Us -->
<div class="row mt-5">
    <h1 class="text-center mb-4">Our Organization</h1> <!-- Added h1 element -->
    <div class="col-md-4 mb-4">
        <NavLink href="/aboutus">
            <div class="card h-100 border-0 shadow">
                <img src="/AboutUs.jpg" alt="About Us" class="card-img-top img-fluid" style="height: 800px; object-fit: cover; border-radius: 10px 10px 0 0;" />
                <div class="card-body">
                    <h5 class="card-title mb-0">About Us</h5>
                    <p class="card-text text-muted">Learn about our company.</p>
                </div>
            </div>
        </NavLink>
    </div>

    <div class="col-md-4 mb-4">
        <NavLink href="/services">
            <div class="card h-100 border-0 shadow">
                <img src="/services.jpg" alt="Services" class="card-img-top img-fluid" style="height: 800px; object-fit: cover; border-radius: 10px 10px 0 0;" />
                <div class="card-body">
                    <h5 class="card-title mb-0">Services</h5>
                    <p class="card-text text-muted">Explore our services.</p>
                </div>
            </div>
        </NavLink>
    </div>

    <div class="col-md-4 mb-4">
        <NavLink href="/contactus">
            <div class="card h-100 border-0 shadow">
                <img src="/contactus.jpg" alt="Contact Us" class="card-img-top img-fluid" style="height: 800px; object-fit: cover; border-radius: 10px 10px 0 0;" />
                <div class="card-body">
                    <h5 class="card-title mb-0">Contact Us</h5>
                    <p class="card-text text-muted">Get in touch with us.</p>
                </div>
            </div>
        </NavLink>
    </div>
</div>



<!-- Footer -->
<footer class="footer bg-dark text-light py-5">
    <div class="container">
        <div class="row">
            <div class="col-md-4 mb-4">
                <h4>About Us</h4>
                <p>Learn more about our company and our mission.</p>
                <p><a href="/aboutus" class="text-light">Read More</a></p>
            </div>
            <div class="col-md-4 mb-4">
                <h4>Services</h4>
                <p>Explore our wide range of services tailored for you.</p>
                <p><a href="/services" class="text-light">View Services</a></p>
            </div>
            <div class="col-md-4 mb-4">
                <h4>Contact Us</h4>
                <p>Get in touch with us for any inquiries or assistance.</p>
                <p><a href="/contactus" class="text-light">Contact Information</a></p>
            </div>
        </div>
        <hr class="bg-light">
        <div class="text-center">
            <p>&copy; 2023 Best Job Portal - All rights reserved</p>
            <p>Designed by Top Designers</p>
            <p>Email: contact@bestjobportal.com | Phone: 1234567890</p>
        </div>
    </div>
</footer>


@code {
    List<EntJobs> latestJobs;

    protected override void OnInitialized()
    {
        // Fetch latest jobs for display on the index page
        latestJobs = DALJobs.GetLatestJobsWithThumbnails();
    }

    void ViewJobListings(MouseEventArgs e)
    {
        NavigationManager.NavigateTo("/joblistings");
    }

    void ViewJobDetails(int jobId)
    {
        NavigationManager.NavigateTo($"/viewjob/{jobId}");
    }
    
    string CalculateTimeAgo(DateTime? timeUploaded)
    {
        if (timeUploaded.HasValue)
        {
            DateTime uploadTime = timeUploaded.Value;
            TimeSpan timeDifference = DateTime.Now - uploadTime;

            if (timeDifference.TotalSeconds < 60)
            {
                return "Posted just now";
            }
            else if (timeDifference.TotalMinutes < 60)
            {
                return $"Posted {(int)timeDifference.TotalMinutes} minute{(timeDifference.TotalMinutes != 1 ? "s" : "")} ago";
            }
            else if (timeDifference.TotalHours < 24)
            {
                return $"Posted {(int)timeDifference.TotalHours} hour{(timeDifference.TotalHours != 1 ? "s" : "")} ago";
            }
            else
            {
                return $"Posted {(int)timeDifference.TotalDays} day{(timeDifference.TotalDays != 1 ? "s" : "")} ago";
            }
        }
        else
        {
            return "Unknown posting time";
        }
    }



}
